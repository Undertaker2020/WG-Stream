# WG-Stream

Клон Twitch-подібної платформи для прямих трансляцій, спілкування та управління каналами.

## Вступ

Платформа WG-Stream призначена для організації та проведення live-трансляцій, взаємодії стрімерів із глядачами через чат, а також комплексного управління каналами, підписками та спонсорськими планами. Система підтримує масштабованість завдяки пагінації та кешуванню, забезпечує безпеку через двофакторну автентифікацію й захищені API, а також пропонує гнучкі налаштування зовнішнього вигляду та сповіщень.

## Мета проекту

- **Гнучке створення каналів**: користувачі можуть реєструвати канали, завантажувати аватар і фон, налаштовувати опис та соціальні посилання.  
- **Якісні трансляції**: інтеграція з OBS через згенеровані RTMP/ARATMP ключі, підтримка потокового відео високої якості з мінімальною затримкою.  
- **Інтерактивний чат**: WebSocket-чат на базі GraphQL Subscriptions із кольоровим відображенням нікнеймів, емодзі та модерацією.  
- **Монетизація**: створення спонсорських і преміум-планів із інтеграцією Stripe, історією транзакцій та автоматичними нагородами (верифікація каналу).  
- **Сповіщення в реальному часі**: e-mail та Telegram-бот для повідомлень про нові трансляції, підписки, коди підтвердження й критичні події.  
- **Безпека та управління**: двофакторна автентифікація (TOTP), управління активними сесіями, можливість відключення сесій віддалено.  
- **Масштабованість**: пагінація (infinite scroll), кешування через Redis, зберігання медіа в S3, готовність до розгортання в Docker та AWS.  

## Стек технологій

### Backend

- **NestJS** — модульний фреймворк на Node.js із TypeScript, що забезпечує чітку архітектуру (модулі, контролери, сервіси).  
- **GraphQL** — гнучкий API-шар через `@nestjs/graphql`, що дозволяє клієнту вибирати лише потрібні поля та підтримує real-time через Subscriptions.  
- **Prisma ORM** — ORM з генерацією типів TypeScript, що працює з міграціями та забезпечує безпечні транзакції до PostgreSQL.  
- **PostgreSQL** — реляційна база даних для зберігання користувачів, каналів, стрімів, транзакцій та іншої сутнісної інформації.  
- **Redis** — кешування сесій, чергування сповіщень та зберігання швидкодоступних даних (наприклад, токенів двофакторної автентифікації).  
- **AWS S3** — зберігання медіа (аватарок, прев’ю стрімів) з генеруванням оптимізованих зображень через Sharp.  
- **LiveKit** — платформа для побудови аудіо/відео трансляцій у реальному часі.  
- **Sharp** — інструмент для обробки та генерації прев’ю зображень перед збереженням в S3.  
- **@nestjs/schedule (Cron)** — планувальник завдань для періодичної верифікації каналів, відправки розсилок і інших фоновых процесів.  
- **Telegram.js / Telegraph** — бібліотека для реалізації Telegram-бота, який надсилає сповіщення про стріми, підписки та коди підтвердження.

### Frontend

- **Next.js 15** — React-фреймворк із серверним рендерингом, маршрутизацією та інкрементальною генерацією сторінок.  
- **TailwindCSS** — утилітарний CSS-фреймворк для швидкого створення адаптивних інтерфейсів.  
- **GraphQL Code Generator** — автоматична генерація типів та React-хуків для запитів і мутацій.  
- **Apollo Client** — клієнт для виконання GraphQL-запитів, кешування та управління станом даних.  
- **Zustand** — легковажний state management для зберігання глобальних налаштувань (тема, локаль, токен).  
- **React Hook Form** — високопродуктивна бібліотека для побудови та валідації форм (реєстрація, логін, профіль).  
- **next-intl** — локалізація інтерфейсу з підтримкою кількох мов.  
- **next-themes** — підтримка світлої та темної тем з автоматичним запам’ятовуванням вибору користувача.  
- **sonner** — кастомний Toast-провайдер для сповіщень користувача про події (успіх, помилки).
